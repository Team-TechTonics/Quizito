import{c as be,R,j as e,l as Ne,h as we,b as Ce,u as Me,r as u,e as Pe,L as X,m as b,T as Se,p as V,q as Z,s as J,C as ee,U as Ae,A as Ie,B as Oe,E as ke,t as Re,Z as Te,H as ze}from"./index-D94il1hI.js";import{S as se,C as te}from"./share-2-5WhmenRO.js";import{R as re}from"./refresh-cw-DB7rEJja.js";import{T as q}from"./trending-up-CDV_flEY.js";import{R as O,T as k,L as Fe,C as ae,X as ie,Y as ne,a as De,b as ce,B as Qe,c as B}from"./LineChart-PZ-PjBgp.js";import{R as qe,P as Be,a as Ee,b as $e,c as Ge,d as Le,e as Ye}from"./RadarChart-CA6beYha.js";import{B as _e}from"./BarChart-BTHTz7Nd.js";import"./clsx-B-dksMZM.js";const E=be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var $,oe;function He(){if(oe)return $;oe=1;var l={linear:function(s,r,i,a){var t=i-r;return t*s/a+r},easeInQuad:function(s,r,i,a){var t=i-r;return t*(s/=a)*s+r},easeOutQuad:function(s,r,i,a){var t=i-r;return-t*(s/=a)*(s-2)+r},easeInOutQuad:function(s,r,i,a){var t=i-r;return(s/=a/2)<1?t/2*s*s+r:-t/2*(--s*(s-2)-1)+r},easeInCubic:function(s,r,i,a){var t=i-r;return t*(s/=a)*s*s+r},easeOutCubic:function(s,r,i,a){var t=i-r;return t*((s=s/a-1)*s*s+1)+r},easeInOutCubic:function(s,r,i,a){var t=i-r;return(s/=a/2)<1?t/2*s*s*s+r:t/2*((s-=2)*s*s+2)+r},easeInQuart:function(s,r,i,a){var t=i-r;return t*(s/=a)*s*s*s+r},easeOutQuart:function(s,r,i,a){var t=i-r;return-t*((s=s/a-1)*s*s*s-1)+r},easeInOutQuart:function(s,r,i,a){var t=i-r;return(s/=a/2)<1?t/2*s*s*s*s+r:-t/2*((s-=2)*s*s*s-2)+r},easeInQuint:function(s,r,i,a){var t=i-r;return t*(s/=a)*s*s*s*s+r},easeOutQuint:function(s,r,i,a){var t=i-r;return t*((s=s/a-1)*s*s*s*s+1)+r},easeInOutQuint:function(s,r,i,a){var t=i-r;return(s/=a/2)<1?t/2*s*s*s*s*s+r:t/2*((s-=2)*s*s*s*s+2)+r},easeInSine:function(s,r,i,a){var t=i-r;return-t*Math.cos(s/a*(Math.PI/2))+t+r},easeOutSine:function(s,r,i,a){var t=i-r;return t*Math.sin(s/a*(Math.PI/2))+r},easeInOutSine:function(s,r,i,a){var t=i-r;return-t/2*(Math.cos(Math.PI*s/a)-1)+r},easeInExpo:function(s,r,i,a){var t=i-r;return s==0?r:t*Math.pow(2,10*(s/a-1))+r},easeOutExpo:function(s,r,i,a){var t=i-r;return s==a?r+t:t*(-Math.pow(2,-10*s/a)+1)+r},easeInOutExpo:function(s,r,i,a){var t=i-r;return s===0?r:s===a?r+t:(s/=a/2)<1?t/2*Math.pow(2,10*(s-1))+r:t/2*(-Math.pow(2,-10*--s)+2)+r},easeInCirc:function(s,r,i,a){var t=i-r;return-t*(Math.sqrt(1-(s/=a)*s)-1)+r},easeOutCirc:function(s,r,i,a){var t=i-r;return t*Math.sqrt(1-(s=s/a-1)*s)+r},easeInOutCirc:function(s,r,i,a){var t=i-r;return(s/=a/2)<1?-t/2*(Math.sqrt(1-s*s)-1)+r:t/2*(Math.sqrt(1-(s-=2)*s)+1)+r},easeInElastic:function(s,r,i,a){var t=i-r,n,o,h;return h=1.70158,o=0,n=t,s===0?r:(s/=a)===1?r+t:(o||(o=a*.3),n<Math.abs(t)?(n=t,h=o/4):h=o/(2*Math.PI)*Math.asin(t/n),-(n*Math.pow(2,10*(s-=1))*Math.sin((s*a-h)*(2*Math.PI)/o))+r)},easeOutElastic:function(s,r,i,a){var t=i-r,n,o,h;return h=1.70158,o=0,n=t,s===0?r:(s/=a)===1?r+t:(o||(o=a*.3),n<Math.abs(t)?(n=t,h=o/4):h=o/(2*Math.PI)*Math.asin(t/n),n*Math.pow(2,-10*s)*Math.sin((s*a-h)*(2*Math.PI)/o)+t+r)},easeInOutElastic:function(s,r,i,a){var t=i-r,n,o,h;return h=1.70158,o=0,n=t,s===0?r:(s/=a/2)===2?r+t:(o||(o=a*(.3*1.5)),n<Math.abs(t)?(n=t,h=o/4):h=o/(2*Math.PI)*Math.asin(t/n),s<1?-.5*(n*Math.pow(2,10*(s-=1))*Math.sin((s*a-h)*(2*Math.PI)/o))+r:n*Math.pow(2,-10*(s-=1))*Math.sin((s*a-h)*(2*Math.PI)/o)*.5+t+r)},easeInBack:function(s,r,i,a,t){var n=i-r;return t===void 0&&(t=1.70158),n*(s/=a)*s*((t+1)*s-t)+r},easeOutBack:function(s,r,i,a,t){var n=i-r;return t===void 0&&(t=1.70158),n*((s=s/a-1)*s*((t+1)*s+t)+1)+r},easeInOutBack:function(s,r,i,a,t){var n=i-r;return t===void 0&&(t=1.70158),(s/=a/2)<1?n/2*(s*s*(((t*=1.525)+1)*s-t))+r:n/2*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)+r},easeInBounce:function(s,r,i,a){var t=i-r,n;return n=l.easeOutBounce(a-s,0,t,a),t-n+r},easeOutBounce:function(s,r,i,a){var t=i-r;return(s/=a)<1/2.75?t*(7.5625*s*s)+r:s<2/2.75?t*(7.5625*(s-=1.5/2.75)*s+.75)+r:s<2.5/2.75?t*(7.5625*(s-=2.25/2.75)*s+.9375)+r:t*(7.5625*(s-=2.625/2.75)*s+.984375)+r},easeInOutBounce:function(s,r,i,a){var t=i-r,n;return s<a/2?(n=l.easeInBounce(s*2,0,t,a),n*.5+r):(n=l.easeOutBounce(s*2-a,0,t,a),n*.5+t*.5+r)}};return $=l,$}var Ke=He();function Ue(l){return l*Math.PI/180}function m(l,s){return l+Math.random()*(s-l)}function We(l,s){return Math.floor(l+Math.random()*(s-l+1))}var S;(function(l){l[l.Circle=0]="Circle",l[l.Square=1]="Square",l[l.Strip=2]="Strip"})(S||(S={}));var N;(function(l){l[l.Positive=1]="Positive",l[l.Negative=-1]="Negative"})(N||(N={}));const Xe=1e3/60;class Ve{constructor(s,r,i,a){this.getOptions=r;const{colors:t,initialVelocityX:n,initialVelocityY:o}=this.getOptions();this.context=s,this.x=i,this.y=a,this.w=m(5,20),this.h=m(5,20),this.radius=m(5,10),this.vx=typeof n=="number"?m(-n,n):m(n.min,n.max),this.vy=typeof o=="number"?m(-o,0):m(o.min,o.max),this.shape=We(0,2),this.angle=Ue(m(0,360)),this.angularSpin=m(-.2,.2),this.color=t[Math.floor(Math.random()*t.length)],this.rotateY=m(0,1),this.rotationDirection=m(0,1)?N.Positive:N.Negative}update(s){const{gravity:r,wind:i,friction:a,opacity:t,drawShape:n}=this.getOptions(),o=s/Xe;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=r*o,this.vx+=i*o,this.vx*=a**o,this.vy*=a**o,this.rotateY>=1&&this.rotationDirection===N.Positive?this.rotationDirection=N.Negative:this.rotateY<=-1&&this.rotationDirection===N.Negative&&(this.rotationDirection=N.Positive);const h=.1*this.rotationDirection*o;if(this.rotateY+=h,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=t,this.context.lineCap="round",this.context.lineWidth=2,n&&typeof n=="function")n.call(this,this.context);else switch(this.shape){case S.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case S.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case S.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Ze{constructor(s,r){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=a=>{this.particles.splice(a,1)},this.getParticle=()=>{const a=m(this.x,this.w+this.x),t=m(this.y,this.h+this.y);return new Ve(this.context,this.getOptions,a,t)},this.animate=a=>{const{canvas:t,context:n,particlesGenerated:o,lastNumberOfPieces:h}=this,{run:M,recycle:w,numberOfPieces:j,debug:A,tweenFunction:T,tweenDuration:P}=this.getOptions();if(!M)return!1;const p=this.particles.length,C=w?p:o;if(C<j){h!==j&&(this.tweenProgress=0,this.tweenFrom=C,this.lastNumberOfPieces=j),this.tweenProgress=Math.min(P,Math.max(0,this.tweenProgress+a));const f=T(this.tweenProgress,this.tweenFrom,j,P),g=Math.round(f-C);for(let y=0;y<g;y++)this.particles.push(this.getParticle());this.particlesGenerated+=g}A&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText(`Particles: ${p}`,t.width-10,t.height-20));for(let f=this.particles.length-1;f>=0;f--){const g=this.particles[f];g.update(a),(g.y>t.height||g.y<-100||g.x>t.width+100||g.x<-100)&&(w&&C<=j?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return p>0||C<j},this.canvas=s;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=r}}const L={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Ke.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Je{constructor(s,r){this.lastFrameTime=0,this.setOptionsWithDefaults=a=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...t,...L,...a},Object.assign(this,a.confettiSource)},this.update=(a=0)=>{const{options:{run:t,onConfettiComplete:n,frameRate:o},canvas:h,context:M}=this,w=Math.min(a-this.lastFrameTime,50);if(o&&w<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=a-(o?w%o:0),t&&(M.fillStyle="white",M.clearRect(0,0,h.width,h.height)),this.generator.animate(w)?this.rafId=requestAnimationFrame(this.update):(n&&typeof n=="function"&&this.generator.particlesGenerated>0&&n.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=s;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new Ze(this.canvas,()=>this.options),this.options=r,this.update()}get options(){return this._options}set options(s){const r=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(s),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof s.recycle=="boolean"&&s.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof s.run=="boolean"&&s.run&&r===!1&&this.update()}}const es=R.createRef();class Y extends R.Component{constructor(s){super(s),this.canvas=R.createRef(),this.canvas=s.canvasRef||es}componentDidMount(){if(this.canvas.current){const s=G(this.props)[0];this.confetti=new Je(this.canvas.current,s)}}componentDidUpdate(){const s=G(this.props)[0];this.confetti&&(this.confetti.options=s)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[s,r]=G(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...r.style};return e.jsx("canvas",{width:s.width,height:s.height,ref:this.canvas,...r,style:i})}}Y.defaultProps={...L};Y.displayName="ReactConfetti";function G(l){const s={},r={},i={},a=[...Object.keys(L),"confettiSource","drawShape","onConfettiComplete","frameRate"],t=["canvasRef"];for(const n in l){const o=l[n];a.includes(n)?s[n]=o:t.includes(n)?t[n]=o:i[n]=o}return[s,i,r]}const ss=R.forwardRef((l,s)=>e.jsx(Y,{canvasRef:s,...l})),ds=()=>{const{sessionId:l}=Ne(),s=we(),{user:r}=Ce(),{getSession:i,saveResults:a}=Me(),[t,n]=u.useState(null),[o,h]=u.useState(null),[M,w]=u.useState(null),[j,A]=u.useState(!0),[T,P]=u.useState(!1),[p,C]=u.useState("overview"),[f,g]=u.useState([]),[y,le]=u.useState([]),[I,de]=u.useState(0),[z,he]=u.useState(!1);u.useEffect(()=>{l&&xe()},[l]),u.useEffect(()=>{if(t?.score>80){P(!0);const c=setTimeout(()=>P(!1),5e3);return()=>clearTimeout(c)}},[t]);const xe=async()=>{A(!0);try{const c=localStorage.getItem("quizResults");let d=null;c&&(d=JSON.parse(c)),d||(d={sessionId:l,roomCode:"",leaderboard:[],totalQuestions:0,participants:[]});const v=d.participants?.find(x=>x.username===r?.username||x.userId===r?._id)||d.leaderboard?.find(x=>x.username===r?.username||x.userId===r?._id),D=v?.score||0,U=v?.correctAnswers||0,Q=d.totalQuestions||v?.answers?.length||10,je=Q>0?U/Q*100:0,W=v?.answers||[],ye=W.reduce((x,ve)=>x+(ve.timeTaken||0),0);n({score:D,correctAnswers:U,totalQuestions:Q,accuracy:je,timeTaken:ye,answers:W,rank:d.leaderboard?.findIndex(x=>x.username===r?.username||x.userId===r?._id)+1||0}),le(d.leaderboard||[]),de(d.leaderboard?.findIndex(x=>x.username===r?.username||x.userId===r?._id)+1||0),me(d)}catch(c){console.error("Failed to fetch results:",c)}finally{A(!1)}},me=c=>{const v=["Speed","Accuracy","Consistency","Difficulty","Engagement"].map(D=>({category:D,score:Math.floor(Math.random()*30)+70,fullMark:100}));g(v)},ue=c=>c>=90?{grade:"A+",color:"from-green-500 to-emerald-600"}:c>=80?{grade:"A",color:"from-green-400 to-emerald-500"}:c>=70?{grade:"B",color:"from-blue-500 to-cyan-600"}:c>=60?{grade:"C",color:"from-yellow-500 to-orange-600"}:c>=50?{grade:"D",color:"from-orange-500 to-red-600"}:{grade:"F",color:"from-red-500 to-pink-600"},fe=c=>c===1?{icon:e.jsx(te,{className:"text-yellow-500"}),color:"bg-gradient-to-br from-yellow-500 to-yellow-600"}:c===2?{icon:e.jsx(E,{className:"text-gray-400"}),color:"bg-gradient-to-br from-gray-400 to-gray-600"}:c===3?{icon:e.jsx(E,{className:"text-orange-400"}),color:"bg-gradient-to-br from-orange-500 to-orange-700"}:{icon:e.jsx(ze,{className:"text-gray-500"}),color:"bg-gradient-to-br from-gray-500 to-gray-700"},_=async()=>{if(navigator.share)try{await navigator.share({title:`I scored ${t.score} points on Quizito!`,text:`Check out my quiz results on Quizito - ${t.score} points!`,url:window.location.href})}catch{console.log("Sharing cancelled")}else navigator.clipboard.writeText(window.location.href),alert("Results link copied to clipboard!")},H=()=>{s("/explore")},ge=c=>{const d=Math.floor(c/60),v=c%60;return`${d}m ${v}s`},pe=()=>t?.answers?t.answers.map((c,d)=>({question:`Q${d+1}`,time:c.timeTaken,correct:c.isCorrect?1:0,points:c.points})):[];if(j)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your results..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Results Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Could not find the quiz results you're looking for."}),e.jsx(X,{to:"/",className:"btn-primary",children:"Go Home"})]})});const F=ue(t.accuracy),K=fe(I);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[T&&e.jsx(ss,{width:window.innerWidth,height:window.innerHeight,recycle:!1,numberOfPieces:200}),e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-primary-600 to-accent-600 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Quiz Results"}),e.jsx("p",{className:"text-xl opacity-90",children:"Great job completing the quiz! Here's how you performed."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:_,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 px-6 py-3 rounded-xl font-medium flex items-center space-x-2 transition-colors",children:[e.jsx(se,{size:20}),e.jsx("span",{children:"Share Results"})]}),e.jsxs("button",{onClick:H,className:"bg-white text-primary-600 hover:bg-gray-100 px-6 py-3 rounded-xl font-medium flex items-center space-x-2 transition-colors",children:[e.jsx(re,{size:20}),e.jsx("span",{children:"Play Again"})]})]})]})})})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-primary-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-accent-100 flex items-center justify-center",children:e.jsx(Se,{className:"text-primary-600",size:24})}),e.jsx("div",{className:`px-3 py-1 rounded-full ${F.color.replace("from-","bg-gradient-to-r from-")} text-white text-sm font-bold`,children:F.grade})]}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:t.score}),e.jsx("p",{className:"text-gray-600",children:"Total Score"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[t.accuracy,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${F.color.replace("from-","bg-gradient-to-r from-")} rounded-full`,style:{width:`${t.accuracy}%`}})})]})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:e.jsx(V,{className:"text-green-600",size:24})}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.accuracy,"%"]})]}),e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:[t.correctAnswers,"/",t.totalQuestions]}),e.jsx("p",{className:"text-gray-600",children:"Correct Answers"}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-green-500",size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:[t.correctAnswers," correct"]}),e.jsx(J,{className:"text-red-500 ml-4",size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:[t.totalQuestions-t.correctAnswers," incorrect"]})]})})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(ee,{className:"text-blue-600",size:24})}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ge(t.timeSpent)})]}),e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:[Math.round(t.timeSpent/t.totalQuestions),"s"]}),e.jsx("p",{className:"text-gray-600",children:"Average Time per Question"}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(q,{className:"text-green-500",size:16}),e.jsxs("span",{className:"text-gray-600",children:[t.timeSpent<180?"Fast":t.timeSpent<300?"Average":"Slow"," pace"]})]})})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:K.icon}),e.jsx("div",{className:`w-10 h-10 rounded-full ${K.color} flex items-center justify-center text-white font-bold`,children:I})]}),e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["#",I," of ",y.length]}),e.jsx("p",{className:"text-gray-600",children:"Global Rank"}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-gray-400",size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Top ",Math.round(I/y.length*100),"%"]})]})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex border-b border-gray-200",children:["overview","answers","leaderboard","analytics"].map(c=>e.jsx("button",{onClick:()=>C(c),className:`px-6 py-3 font-medium text-lg border-b-2 transition-colors ${p===c?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})}),e.jsxs(Ie,{mode:"wait",children:[p==="overview"&&e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center space-x-2",children:[e.jsx(Oe,{size:24}),e.jsx("span",{children:"Performance Overview"})]}),e.jsx("div",{className:"h-80",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(qe,{data:f,children:[e.jsx(Be,{}),e.jsx(Ee,{dataKey:"category"}),e.jsx($e,{angle:30,domain:[0,100]}),e.jsx(Ge,{name:"Performance",dataKey:"score",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),e.jsx(k,{})]})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Question-by-Question Performance"}),e.jsx("div",{className:"h-80",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(Fe,{data:pe(),children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(ie,{dataKey:"question"}),e.jsx(ne,{}),e.jsx(k,{}),e.jsx(De,{}),e.jsx(ce,{type:"monotone",dataKey:"points",stroke:"#3b82f6",strokeWidth:2,name:"Points Earned"}),e.jsx(ce,{type:"monotone",dataKey:"time",stroke:"#10b981",strokeWidth:2,name:"Time (seconds)"})]})})})]})]},"overview"),p==="answers"&&e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Detailed Answers"}),e.jsxs("button",{onClick:()=>he(!z),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700",children:[e.jsx(ke,{size:20}),e.jsx("span",{children:z?"Hide Details":"Show Details"})]})]}),e.jsx("div",{className:"space-y-4",children:t.answers.map((c,d)=>e.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${c.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.isCorrect?e.jsx(Z,{size:20}):e.jsx(J,{size:20})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold",children:["Question ",d+1]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c.timeTaken,"s response time"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:[c.points," pts"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]})]}),z&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Answer"}),e.jsx("div",{className:`p-3 rounded-lg ${c.isCorrect?"bg-green-100 border border-green-200":"bg-red-100 border border-red-200"}`,children:c.selectedOption||"No answer"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Correct Answer"}),e.jsx("div",{className:"p-3 rounded-lg bg-green-100 border border-green-200",children:c.correctAnswer})]})]})})]},d))})]})},"answers"),p==="leaderboard"&&e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Session Leaderboard"}),e.jsx("div",{className:"space-y-4",children:y.map((c,d)=>e.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all ${c.username===r?.username?"bg-primary-50 border-primary-300":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white ${d===0?"bg-gradient-to-br from-yellow-500 to-yellow-600":d===1?"bg-gradient-to-br from-gray-400 to-gray-600":d===2?"bg-gradient-to-br from-orange-500 to-orange-700":"bg-gradient-to-br from-gray-500 to-gray-700"}`,children:d===0?e.jsx(te,{size:20}):d<3?e.jsx(E,{size:20}):e.jsx("span",{className:"font-bold",children:d+1})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${c.username}`,alt:c.username,className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold",children:c.username}),c.username===r?.username&&e.jsx("span",{className:"bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full",children:"You"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c.correctAnswers," correct answers"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:c.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"points"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Score Progress"}),e.jsxs("span",{className:"font-medium",children:[Math.round(c.score/y[0].score*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${d===0?"bg-gradient-to-r from-yellow-500 to-yellow-600":d===1?"bg-gradient-to-r from-gray-400 to-gray-600":d===2?"bg-gradient-to-r from-orange-500 to-orange-700":"bg-gradient-to-r from-gray-500 to-gray-700"}`,style:{width:`${c.score/y[0].score*100}%`}})})]})]},c.userId))})]},"leaderboard"),p==="analytics"&&e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Score Distribution"}),e.jsx("div",{className:"h-80",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(_e,{data:f,children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(ie,{dataKey:"category"}),e.jsx(ne,{domain:[0,100]}),e.jsx(k,{}),e.jsx(Qe,{dataKey:"score",fill:"#3b82f6",radius:[8,8,0,0],name:"Score"})]})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Time Analysis"}),e.jsx("div",{className:"h-64",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(Le,{children:[e.jsxs(Ye,{data:[{name:"Fast Answers",value:Math.floor(Math.random()*30)+40},{name:"Average Time",value:Math.floor(Math.random()*30)+30},{name:"Slow Answers",value:Math.floor(Math.random()*20)+10}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[e.jsx(B,{fill:"#10b981"}),e.jsx(B,{fill:"#3b82f6"}),e.jsx(B,{fill:"#ef4444"})]}),e.jsx(k,{})]})})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-bold",children:"40-60%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fast"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-bold",children:"30-40%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-bold",children:"10-20%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Slow"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Accuracy Trends"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Current Session"}),e.jsxs("span",{className:"font-bold text-green-600",children:[t.accuracy,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${t.accuracy}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Average"}),e.jsx("span",{className:"font-bold text-blue-600",children:"75%"})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"75%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Best Session"}),e.jsx("span",{className:"font-bold text-purple-600",children:"92%"})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"92%"}})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"text-green-500"}),e.jsx("span",{className:"font-medium",children:t.accuracy>75?"Above average!":"Room for improvement"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"vs. your average"})]})})]})]})]},"analytics")]}),e.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:H,className:"btn-primary px-8 py-4 text-lg flex items-center justify-center space-x-2",children:[e.jsx(re,{size:24}),e.jsx("span",{children:"Play Another Quiz"})]}),e.jsxs("button",{onClick:_,className:"btn-secondary px-8 py-4 text-lg flex items-center justify-center space-x-2",children:[e.jsx(se,{size:24}),e.jsx("span",{children:"Share Results"})]}),e.jsxs(X,{to:"/",className:"px-8 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition-colors text-lg font-medium flex items-center justify-center space-x-2",children:[e.jsx(Re,{size:24}),e.jsx("span",{children:"Go Home"})]})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary-50 to-accent-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center space-x-2",children:[e.jsx(Te,{className:"text-primary-600",size:24}),e.jsx("span",{children:"Tips for Improvement"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mb-4",children:e.jsx(ee,{className:"text-blue-600",size:24})}),e.jsx("h4",{className:"font-bold mb-2",children:"Time Management"}),e.jsx("p",{className:"text-gray-600",children:"Try to maintain a consistent pace. Aim for 20-25 seconds per question."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mb-4",children:e.jsx(V,{className:"text-green-600",size:24})}),e.jsx("h4",{className:"font-bold mb-2",children:"Accuracy Focus"}),e.jsx("p",{className:"text-gray-600",children:"Focus on understanding the question fully before selecting an answer."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center mb-4",children:e.jsx(q,{className:"text-purple-600",size:24})}),e.jsx("h4",{className:"font-bold mb-2",children:"Practice Regularly"}),e.jsx("p",{className:"text-gray-600",children:"Try different categories to improve your overall knowledge base."})]})]})]})]})})]})};export{ds as default};
