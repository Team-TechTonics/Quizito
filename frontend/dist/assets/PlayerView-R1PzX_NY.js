import{r as c,j as o,l as Me,h as Te,o as $e}from"./index-D94il1hI.js";import{g as W,a as z,u as Se,b as re,c as O,s as B,d as V,e as H,B as Ne,r as me,f as _,h as Re,T as y,m as ee,L as J,i as Ge,j as Pe,k as ye,t as fe,l as he,n as ze,o as ge,p as Ue,C as ne,A as te,q as ae,v as Y,P as be,G as ie,w as oe,x as qe,y as Ee,z as Z,D as K,E as le,F as ce,H as De,I as We,J as Ce,S as ve}from"./Timer-rLP3vf_I.js";import{c as G}from"./clsx-B-dksMZM.js";function He(e){return W("PrivateSwitchBase",e)}z("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Oe=e=>{const{classes:t,checked:s,disabled:n,edge:i}=e,l={root:["root",s&&"checked",n&&"disabled",i&&`edge${V(i)}`],input:["input"]};return H(l,He,t)},Qe=B(Ne,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Ve=B("input",{name:"MuiSwitchBase",shouldForwardProp:me})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_e=c.forwardRef(function(t,s){const{autoFocus:n,checked:i,checkedIcon:l,defaultChecked:u,disabled:d,disableFocusRipple:p=!1,edge:g=!1,icon:P,id:j,inputProps:F,inputRef:I,name:S,onBlur:b,onChange:m,onFocus:C,readOnly:h,required:f=!1,tabIndex:v,type:R,value:x,slots:A={},slotProps:w={},...a}=t,[r,U]=Se({controlled:i,default:!!u,name:"SwitchBase",state:"checked"}),L=re(),q=k=>{C&&C(k),L&&L.onFocus&&L.onFocus(k)},M=k=>{b&&b(k),L&&L.onBlur&&L.onBlur(k)},T=k=>{if(k.nativeEvent.defaultPrevented)return;const $=k.target.checked;U($),m&&m(k,$)};let N=d;L&&typeof N>"u"&&(N=L.disabled);const Q=R==="checkbox"||R==="radio",E={...t,checked:r,disabled:N,disableFocusRipple:p,edge:g},D=Oe(E),xe={slots:A,slotProps:{input:F,...w}},[Le,Fe]=O("root",{ref:s,elementType:Qe,className:D.root,shouldForwardComponentProp:!0,externalForwardedProps:{...xe,component:"span",...a},getSlotProps:k=>({...k,onFocus:$=>{k.onFocus?.($),q($)},onBlur:$=>{k.onBlur?.($),M($)}}),ownerState:E,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:N,role:void 0,tabIndex:null}}),[Ae,Be]=O("input",{ref:I,elementType:Ve,className:D.input,externalForwardedProps:xe,getSlotProps:k=>({...k,onChange:$=>{k.onChange?.($),T($)}}),ownerState:E,additionalProps:{autoFocus:n,checked:i,defaultChecked:u,disabled:N,id:Q?j:void 0,name:S,readOnly:h,required:f,tabIndex:v,type:R,...R==="checkbox"&&x===void 0?{}:{value:x}}});return o.jsxs(Le,{...Fe,children:[o.jsx(Ae,{...Be}),r?l:P]})});function Je(e){return W("MuiFormControlLabel",e)}const X=z("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ye=e=>{const{classes:t,disabled:s,labelPlacement:n,error:i,required:l}=e,u={root:["root",s&&"disabled",`labelPlacement${V(n)}`,i&&"error",l&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",i&&"error"]};return H(u,Je,t)},Ze=B("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${X.label}`]:t.label},t.root,t[`labelPlacement${V(s.labelPlacement)}`]]}})(ee(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${X.disabled}`]:{cursor:"default"},[`& .${X.label}`]:{[`&.${X.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Ke=B("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ee(({theme:e})=>({[`&.${X.error}`]:{color:(e.vars||e).palette.error.main}}))),Xe=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiFormControlLabel"}),{checked:i,className:l,componentsProps:u={},control:d,disabled:p,disableTypography:g,inputRef:P,label:j,labelPlacement:F="end",name:I,onChange:S,required:b,slots:m={},slotProps:C={},value:h,...f}=n,v=re(),R=p??d.props.disabled??v?.disabled,x=b??d.props.required,A={disabled:R,required:x};["checked","name","onChange","value","inputRef"].forEach(T=>{typeof d.props[T]>"u"&&typeof n[T]<"u"&&(A[T]=n[T])});const w=Re({props:n,muiFormControl:v,states:["error"]}),a={...n,disabled:R,labelPlacement:F,required:x,error:w.error},r=Ye(a),U={slots:m,slotProps:{...u,...C}},[L,q]=O("typography",{elementType:y,externalForwardedProps:U,ownerState:a});let M=j;return M!=null&&M.type!==y&&!g&&(M=o.jsx(L,{component:"span",...q,className:G(r.label,q?.className),children:M})),o.jsxs(Ze,{className:G(r.root,l),ownerState:a,ref:s,...f,children:[c.cloneElement(d,A),x?o.jsxs("div",{children:[M,o.jsxs(Ke,{ownerState:a,"aria-hidden":!0,className:r.asterisk,children:["â€‰","*"]})]}):M]})});function et(e){return W("MuiFormGroup",e)}z("MuiFormGroup",["root","row","error"]);const tt=e=>{const{classes:t,row:s,error:n}=e;return H({root:["root",s&&"row",n&&"error"]},et,t)},ot=B("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),st=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiFormGroup"}),{className:i,row:l=!1,...u}=n,d=re(),p=Re({props:n,muiFormControl:d,states:["error"]}),g={...n,row:l,error:p.error},P=tt(g);return o.jsx(ot,{className:G(P.root,i),ownerState:g,ref:s,...u})});function rt(e){return W("MuiListItem",e)}z("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const nt=z("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function at(e){return W("MuiListItemSecondaryAction",e)}z("MuiListItemSecondaryAction",["root","disableGutters"]);const it=e=>{const{disableGutters:t,classes:s}=e;return H({root:["root",t&&"disableGutters"]},at,s)},lt=B("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Ie=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...l}=n,u=c.useContext(J),d={...n,disableGutters:u.disableGutters},p=it(d);return o.jsx(lt,{className:G(p.root,i),ownerState:d,ref:s,...l})});Ie.muiName="ListItemSecondaryAction";const ct=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.hasSecondaryAction&&t.secondaryAction]},dt=e=>{const{alignItems:t,classes:s,dense:n,disableGutters:i,disablePadding:l,divider:u,hasSecondaryAction:d}=e;return H({root:["root",n&&"dense",!i&&"gutters",!l&&"padding",u&&"divider",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},rt,s)},ut=B("div",{name:"MuiListItem",slot:"Root",overridesResolver:ct})(ee(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${nt.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),pt=B("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),de=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiListItem"}),{alignItems:i="center",children:l,className:u,component:d,components:p={},componentsProps:g={},ContainerComponent:P="li",ContainerProps:{className:j,...F}={},dense:I=!1,disableGutters:S=!1,disablePadding:b=!1,divider:m=!1,secondaryAction:C,slotProps:h={},slots:f={},...v}=n,R=c.useContext(J),x=c.useMemo(()=>({dense:I||R.dense||!1,alignItems:i,disableGutters:S}),[i,R.dense,I,S]),A=c.useRef(null),w=c.Children.toArray(l),a=w.length&&Ge(w[w.length-1],["ListItemSecondaryAction"]),r={...n,alignItems:i,dense:x.dense,disableGutters:S,disablePadding:b,divider:m,hasSecondaryAction:a},U=dt(r),L=Pe(A,s),q={slots:f,slotProps:h},[M,T]=O("secondaryAction",{elementType:Ie,externalForwardedProps:q,ownerState:r,className:U.secondaryAction}),N=f.root||p.Root||ut,Q=h.root||g.root||{},E={className:G(U.root,Q.className,u),...v};let D=d||"li";return a?(D=!E.component&&!d?"div":D,P==="li"&&(D==="li"?D="div":E.component==="li"&&(E.component="div")),o.jsx(J.Provider,{value:x,children:o.jsxs(pt,{as:P,className:G(U.container,j),ref:L,ownerState:r,...F,children:[o.jsx(N,{...Q,...!ye(N)&&{as:D,ownerState:{...r,...Q.ownerState}},...E,children:w}),w.pop()]})})):o.jsx(J.Provider,{value:x,children:o.jsxs(N,{...Q,as:D,ref:L,...!ye(N)&&{ownerState:{...r,...Q.ownerState}},...E,children:[w,C&&o.jsx(M,{...T,children:C})]})})});function mt(e){return W("MuiListItemAvatar",e)}z("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ht=e=>{const{alignItems:t,classes:s}=e;return H({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},mt,s)},xt=B("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.alignItems==="flex-start"&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),ue=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiListItemAvatar"}),{className:i,...l}=n,u=c.useContext(J),d={...n,alignItems:u.alignItems},p=ht(d);return o.jsx(xt,{className:G(p.root,i),ownerState:d,ref:s,...l})});function yt(e){return W("MuiListItemText",e)}const se=z("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ft=e=>{const{classes:t,inset:s,primary:n,secondary:i,dense:l}=e;return H({root:["root",s&&"inset",l&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},yt,t)},gt=B("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${se.primary}`]:t.primary},{[`& .${se.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${fe.root}:where(& .${se.primary})`]:{display:"block"},[`.${fe.root}:where(& .${se.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),pe=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiListItemText"}),{children:i,className:l,disableTypography:u=!1,inset:d=!1,primary:p,primaryTypographyProps:g,secondary:P,secondaryTypographyProps:j,slots:F={},slotProps:I={},...S}=n,{dense:b}=c.useContext(J);let m=p??i,C=P;const h={...n,disableTypography:u,inset:d,primary:!!m,secondary:!!C,dense:b},f=ft(h),v={slots:F,slotProps:{primary:g,secondary:j,...I}},[R,x]=O("root",{className:G(f.root,l),elementType:gt,externalForwardedProps:{...v,...S},ownerState:h,ref:s}),[A,w]=O("primary",{className:f.primary,elementType:y,externalForwardedProps:v,ownerState:h}),[a,r]=O("secondary",{className:f.secondary,elementType:y,externalForwardedProps:v,ownerState:h});return m!=null&&m.type!==y&&!u&&(m=o.jsx(A,{variant:b?"body2":"body1",component:w?.variant?void 0:"span",...w,children:m})),C!=null&&C.type!==y&&!u&&(C=o.jsx(a,{variant:"body2",color:"textSecondary",...r,children:C})),o.jsxs(R,{...x,children:[m,C]})}),bt=he(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Ct=he(o.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),vt=B("span",{name:"MuiRadioButtonIcon",shouldForwardProp:me})({position:"relative",display:"flex"}),jt=B(bt,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),St=B(Ct,{name:"MuiRadioButtonIcon"})(ee(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function we(e){const{checked:t=!1,classes:s={},fontSize:n}=e,i={...e,checked:t};return o.jsxs(vt,{className:s.root,ownerState:i,children:[o.jsx(jt,{fontSize:n,className:s.background,ownerState:i}),o.jsx(St,{fontSize:n,className:s.dot,ownerState:i})]})}const ke=c.createContext(void 0);function Rt(){return c.useContext(ke)}function Pt(e){return W("MuiRadio",e)}const je=z("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),It=e=>{const{classes:t,color:s,size:n}=e,i={root:["root",`color${V(s)}`,n!=="medium"&&`size${V(n)}`]};return{...t,...H(i,Pt,t)}},wt=B(_e,{shouldForwardProp:e=>me(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.size!=="medium"&&t[`size${V(s.size)}`],t[`color${V(s.color)}`]]}})(ee(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${je.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(ge()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(ge()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${je.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function kt(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const Lt=o.jsx(we,{checked:!0}),Ft=o.jsx(we,{}),At=c.forwardRef(function(t,s){const n=_({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:l=Lt,color:u="primary",icon:d=Ft,name:p,onChange:g,size:P="medium",className:j,disabled:F,disableRipple:I=!1,slots:S={},slotProps:b={},inputProps:m,...C}=n,h=re();let f=F;h&&typeof f>"u"&&(f=h.disabled),f??=!1;const v={...n,disabled:f,disableRipple:I,color:u,size:P},R=It(v),x=Rt();let A=i;const w=ze(g,x&&x.onChange);let a=p;x&&(typeof A>"u"&&(A=kt(x.value,n.value)),typeof a>"u"&&(a=x.name));const r=b.input??m,[U,L]=O("root",{ref:s,elementType:wt,className:G(R.root,j),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:b,...C},getSlotProps:q=>({...q,onChange:(M,...T)=>{q.onChange?.(M,...T),w(M,...T)}}),ownerState:v,additionalProps:{type:"radio",icon:c.cloneElement(d,{fontSize:d.props.fontSize??P}),checkedIcon:c.cloneElement(l,{fontSize:l.props.fontSize??P}),disabled:f,name:a,checked:A,slots:S,slotProps:{input:typeof r=="function"?r(v):r}}});return o.jsx(U,{...L,classes:R})});function Bt(e){return W("MuiRadioGroup",e)}z("MuiRadioGroup",["root","row","error"]);const Mt=e=>{const{classes:t,row:s,error:n}=e;return H({root:["root",s&&"row",n&&"error"]},Bt,t)},Tt=c.forwardRef(function(t,s){const{actions:n,children:i,className:l,defaultValue:u,name:d,onChange:p,value:g,...P}=t,j=c.useRef(null),F=Mt(t),[I,S]=Se({controlled:g,default:u,name:"RadioGroup"});c.useImperativeHandle(n,()=>({focus:()=>{let h=j.current.querySelector("input:not(:disabled):checked");h||(h=j.current.querySelector("input:not(:disabled)")),h&&h.focus()}}),[]);const b=Pe(s,j),m=Ue(d),C=c.useMemo(()=>({name:m,onChange(h){S(h.target.value),p&&p(h,h.target.value)},value:I}),[m,p,S,I]);return o.jsx(ke.Provider,{value:C,children:o.jsx(st,{role:"radiogroup",ref:b,className:G(F.root,l),...P,children:i})})}),$t=he(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}));var Nt={};const qt=()=>{const{roomCode:e}=Me(),t=Te(),s=c.useRef(null),[n,i]=c.useState(null),[l,u]=c.useState(null),[d,p]=c.useState(""),[g,P]=c.useState(null),[j,F]=c.useState([]),[I,S]=c.useState(30),[b,m]=c.useState("lobby"),[C,h]=c.useState(!0),[f,v]=c.useState(""),[R,x]=c.useState("");c.useEffect(()=>{const a=localStorage.getItem("token");if(!a){t("/login");return}return s.current=$e(Nt.REACT_APP_API_URL||"http://localhost:10000",{auth:{token:a},transports:["websocket","polling"]}),s.current.emit("join-session",{roomCode:e,displayName:JSON.parse(localStorage.getItem("user"))?.username}),s.current.on("session-data",r=>{i(r.session),P(r.participant),m(r.session.currentState?.phase||"lobby"),h(!1)}),s.current.on("quiz-started",r=>{u(r.question),S(r.timeRemaining),m("question"),p("")}),s.current.on("next-question",r=>{u(r.question),S(r.timeRemaining),m("question"),p("")}),s.current.on("timer-update",r=>{S(r.timeRemaining)}),s.current.on("question-completed",r=>{m("answer"),x(`Correct answer: ${r.correctAnswer}`)}),s.current.on("answer-feedback",r=>{r.isCorrect?x(`Correct! +${r.points} points`):v(`Incorrect. Correct answer was: ${r.correctAnswer}`)}),s.current.on("leaderboard-update",r=>{F(r.leaderboard)}),s.current.on("quiz-completed",r=>{m("finished"),F(r.finalResults.leaderboard),x("Quiz completed! Check your ranking.")}),s.current.on("session-ended-by-host",()=>{v("Session ended by host"),setTimeout(()=>t("/"),3e3)}),()=>{s.current&&s.current.disconnect()}},[e,t]);const A=()=>{if(!d||!s.current)return;const a=30-I;s.current.emit("submit-answer",{roomCode:e,questionIndex:l?.index||0,answer:d,timeTaken:a})},w=()=>{s.current&&s.current.emit("player-ready",{roomCode:e,isReady:!g?.isReady})};return C?o.jsx(ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:o.jsx(y,{children:"Connecting to game..."})}):f&&!n?o.jsxs(ne,{sx:{mt:4},children:[o.jsx(te,{severity:"error",children:f}),o.jsx(ae,{sx:{mt:2},variant:"contained",onClick:()=>t("/"),children:"Go Back"})]}):o.jsxs(Y,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[o.jsxs(ne,{maxWidth:"md",children:[o.jsx(be,{sx:{p:2,mb:3,mt:2},children:o.jsxs(ie,{container:!0,alignItems:"center",justifyContent:"space-between",children:[o.jsxs(ie,{item:!0,children:[o.jsx(y,{variant:"h5",children:n?.name||"Quiz Session"}),o.jsxs(y,{variant:"body2",color:"text.secondary",children:["Room: ",e," | ",n?.participants?.length||0," players online"]})]}),o.jsx(ie,{item:!0,children:o.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(oe,{icon:o.jsx(qe,{}),label:`${I}s`,color:I<10?"error":"primary"}),o.jsx(oe,{icon:o.jsx(Ee,{}),label:`${g?.score||0} points`,color:"success"}),o.jsx(ae,{variant:g?.isReady?"contained":"outlined",color:"success",onClick:w,disabled:b!=="lobby",children:g?.isReady?"Ready!":"Ready Up"})]})})]})}),b==="lobby"&&o.jsx(Z,{sx:{mb:3},children:o.jsxs(K,{children:[o.jsx(y,{variant:"h6",gutterBottom:!0,children:"Waiting in Lobby"}),o.jsx(y,{color:"text.secondary",paragraph:!0,children:"The host will start the quiz soon. Make sure you're ready!"}),o.jsx(le,{children:n?.participants?.map((a,r)=>o.jsxs(de,{children:[o.jsx(ue,{children:o.jsx(ce,{src:a.avatar,children:a.username?.[0]})}),o.jsx(pe,{primary:a.username,secondary:a.isReady?"Ready":"Not ready"}),a.isReady&&o.jsx($t,{color:"success"})]},r))})]})}),b==="question"&&l&&o.jsx(Z,{sx:{mb:3},children:o.jsxs(K,{children:[o.jsxs(y,{variant:"h5",gutterBottom:!0,children:["Question ",l.index+1," of ",l.totalQuestions]}),o.jsx(De,{variant:"determinate",value:I/l.timeLimit*100,sx:{mb:3,height:8}}),o.jsx(y,{variant:"h6",paragraph:!0,children:l.text}),l.imageUrl&&o.jsx(Y,{sx:{mb:3,textAlign:"center"},children:o.jsx("img",{src:l.imageUrl,alt:"Question",style:{maxWidth:"100%",maxHeight:300}})}),o.jsx(We,{component:"fieldset",sx:{width:"100%"},children:o.jsx(Tt,{value:d,onChange:a=>p(a.target.value),children:l.options?.map((a,r)=>o.jsx(be,{sx:{mb:1,p:2},children:o.jsx(Xe,{value:a.text,control:o.jsx(At,{}),label:o.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.imageUrl&&o.jsx("img",{src:a.imageUrl,alt:"Option",style:{height:40}}),o.jsx(y,{children:a.text})]}),sx:{width:"100%"}})},r))})}),o.jsx(ae,{variant:"contained",fullWidth:!0,size:"large",onClick:A,disabled:!d,sx:{mt:3},children:"Submit Answer"})]})}),b==="answer"&&o.jsx(Z,{sx:{mb:3},children:o.jsxs(K,{children:[o.jsx(y,{variant:"h6",gutterBottom:!0,children:"Answer Review"}),o.jsx(te,{severity:"info",sx:{mb:2},children:"Waiting for other players to finish..."}),o.jsx(y,{children:"The next question will start shortly."})]})}),b==="finished"&&o.jsx(Z,{sx:{mb:3},children:o.jsxs(K,{children:[o.jsxs(y,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ce,{})," Quiz Completed!"]}),o.jsx(y,{variant:"h6",gutterBottom:!0,children:"Final Results"}),o.jsx(le,{children:j.slice(0,5).map((a,r)=>o.jsxs(de,{children:[o.jsx(ue,{children:o.jsx(ce,{sx:{bgcolor:r===0?"gold":r===1?"silver":r===2?"#CD7F32":"primary.main"},children:r+1})}),o.jsx(pe,{primary:a.username,secondary:`Score: ${a.score} | Accuracy: ${a.accuracy?.toFixed(1)}%`}),o.jsx(oe,{label:`#${r+1}`,color:r<3?"primary":"default"})]},r))}),o.jsxs(Y,{sx:{mt:3,textAlign:"center"},children:[o.jsxs(y,{variant:"h6",color:"primary",children:["Your Rank: #",j.find(a=>a.isCurrentUser)?.rank||"N/A"]}),o.jsxs(y,{variant:"body2",color:"text.secondary",children:["Total Score: ",g?.score||0]})]})]})}),o.jsx(Z,{children:o.jsxs(K,{children:[o.jsxs(y,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ce,{})," Live Leaderboard"]}),j.length>0?o.jsx(le,{children:j.map((a,r)=>o.jsxs(de,{sx:{bgcolor:a.isCurrentUser?"action.selected":"transparent",borderRadius:1},children:[o.jsx(ue,{children:o.jsx(ce,{sx:{bgcolor:r<3?"primary.main":"grey.500"},children:r+1})}),o.jsx(pe,{primary:a.username,secondary:`${a.score} points`}),o.jsx(oe,{label:`${a.accuracy?.toFixed(1)||0}%`,size:"small",color:"secondary"})]},r))}):o.jsx(y,{color:"text.secondary",align:"center",children:"Leaderboard will appear when game starts"})]})})]}),o.jsx(ve,{open:!!f,autoHideDuration:6e3,onClose:()=>v(""),children:o.jsx(te,{severity:"error",onClose:()=>v(""),children:f})}),o.jsx(ve,{open:!!R,autoHideDuration:3e3,onClose:()=>x(""),children:o.jsx(te,{severity:"success",onClose:()=>x(""),children:R})})]})};export{qt as default};
