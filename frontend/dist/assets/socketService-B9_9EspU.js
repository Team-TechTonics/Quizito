import{o}from"./index-D94il1hI.js";const s="https://quizito-backend.onrender.com";class n{constructor(){this.socket=null,this.connected=!1}connect(e){return this.socket?.connected?this.socket:(this.socket=o(s,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{console.log("✅ Socket connected"),this.connected=!0}),this.socket.on("disconnect",t=>{console.log("❌ Socket disconnected:",t),this.connected=!1}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t)}),this.socket)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.connected=!1)}isConnected(){return this.connected&&this.socket?.connected}onFriendRequest(e){this.socket?.on("friend:request",e)}onFriendAccepted(e){this.socket?.on("friend:accepted",e)}onFriendDeclined(e){this.socket?.on("friend:declined",e)}onFriendRemoved(e){this.socket?.on("friend:removed",e)}onChallengeReceived(e){this.socket?.on("challenge:received",e)}onChallengeAccepted(e){this.socket?.on("challenge:accepted",e)}onChallengeDeclined(e){this.socket?.on("challenge:declined",e)}onChallengeCompleted(e){this.socket?.on("challenge:completed",e)}onNewActivity(e){this.socket?.on("activity:new",e)}onActivityLiked(e){this.socket?.on("activity:liked",e)}onActivityCommented(e){this.socket?.on("activity:commented",e)}emitOnlineStatus(){this.socket?.emit("status:online")}emitOfflineStatus(){this.socket?.emit("status:offline")}onFriendStatusChange(e){this.socket?.on("friend:status",e)}joinQuizRoom(e){this.socket?.emit("quiz:join",{quizId:e})}leaveQuizRoom(e){this.socket?.emit("quiz:leave",{quizId:e})}onQuizUpdate(e){this.socket?.on("quiz:update",e)}joinSession(e,t){this.socket?.emit("join-session",{roomCode:e,displayName:t})}startQuiz(e){this.socket?.emit("start-quiz",{roomCode:e})}nextQuestionForce(e){this.socket?.emit("next-question-force",{roomCode:e})}endSession(e){this.socket?.emit("end-session",{roomCode:e})}submitAnswer(e){this.socket?.emit("submit-answer",e)}kickPlayer(e,t){this.socket?.emit("kick-player",{roomCode:e,userId:t})}onParticipantJoined(e){this.socket?.on("participant-joined",e)}onParticipantDisconnected(e){this.socket?.on("participant-disconnected",e)}onPlayerReadyUpdate(e){this.socket?.on("player-ready-update",e)}onAllPlayersReady(e){this.socket?.on("all-players-ready",e)}onCountdown(e){this.socket?.on("countdown",e)}onQuizStarted(e){this.socket?.on("quiz-started",e)}onTimerUpdate(e){this.socket?.on("timer-update",e)}onNextQuestion(e){this.socket?.on("next-question",e)}onQuestionCompleted(e){this.socket?.on("question-completed",e)}onQuestionTimeUp(e){this.socket?.on("question-time-up",e)}onQuizCompleted(e){this.socket?.on("quiz-completed",e)}onLeaderboardUpdate(e){this.socket?.on("leaderboard-update",e)}onSessionEndedByHost(e){this.socket?.on("session-ended-by-host",e)}toggleChat(e,t){this.socket?.emit("toggle-chat",{roomCode:e,enabled:t})}onChatToggled(e){this.socket?.on("chat-toggled",e)}removeAllListeners(){this.socket?.removeAllListeners()}off(e,t){this.socket?.off(e,t)}onChatMessage(e){this.socket?.on("chat-message",e)}sendChatMessage(e){this.socket?.emit("send-message",e)}}const d=new n;export{d as s};
