import{j as e,b as l,$ as o,e as u,a0 as c,a1 as x,D as h}from"./index-D94il1hI.js";const d=({roles:t=[],redirectTo:r="/login",showUnauthorized:s=!0})=>{const{user:i,isAuthenticated:a,loading:n}=l(),m=x();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):a?t.length>0&&i&&!t.includes(i.role)?s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"text-red-600",size:36})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. This area requires ",t.join(" or ")," privileges."]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Go Back"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium",children:"Go Home"})]})]})})}):e.jsx(o,{to:"/",replace:!0}):e.jsx(c,{}):e.jsx(o,{to:r,state:{from:m,message:"Please log in to access this page"},replace:!0})},j=()=>e.jsx(d,{roles:["admin"],showUnauthorized:!0}),b=()=>e.jsx(d,{roles:["educator","admin"],showUnauthorized:!0}),g=({children:t})=>{const{user:r,isAuthenticated:s}=l();return s?r&&!r.emailVerified?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-full flex items-center justify-center",children:e.jsx(u,{className:"text-yellow-600",size:36})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Email Verification Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please verify your email address to access this feature. Check your inbox for the verification link."}),e.jsx("button",{onClick:()=>{},className:"btn-primary",children:"Resend Verification Email"})]})})}):t||e.jsx(c,{}):e.jsx(o,{to:"/login",replace:!0})},y=({children:t,fallback:r=null,roles:s=[]})=>{const{user:i,isAuthenticated:a,loading:n}=l();return n?e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-6 h-6 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}):!a||s.length>0&&i&&!s.includes(i.role)?r:t};export{j as AdminRoute,y as AuthCheck,b as EducatorRoute,g as VerifiedUserRoute,d as default};
