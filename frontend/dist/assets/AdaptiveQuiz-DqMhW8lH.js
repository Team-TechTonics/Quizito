import{l as k,h as O,r as s,z as b,j as e,A as W,m as g,X as I}from"./index-D94il1hI.js";import{A as z}from"./activity-B4bux6nh.js";import{C as A}from"./check-BaxY6Fgs.js";const T=()=>{const{topicId:P}=k(),y=O(),[t,x]=s.useState("medium"),[m,c]=s.useState(0),[u,l]=s.useState(0),[a,j]=s.useState(0),[h,v]=s.useState(0),[N,w]=s.useState(!1),[i,f]=s.useState(null),p={easy:[{id:"e1",text:"What is 2 + 2?",options:["3","4","5","6"],correct:1},{id:"e2",text:'Output of print("Hello")?',options:["Hello","Error","Print","None"],correct:0},{id:"e3",text:"Which is a boolean?",options:['"True"',"1","True","None"],correct:2}],medium:[{id:"m1",text:"What is 15 * 12?",options:["170","180","190","200"],correct:1},{id:"m2",text:"Time complexity of binary search?",options:["O(n)","O(log n)","O(n^2)","O(1)"],correct:1},{id:"m3",text:"Which is mutable in Python?",options:["Tuple","String","List","Integer"],correct:2}],hard:[{id:"h1",text:"Derivative of x^2?",options:["x","2x","2","x^2"],correct:1},{id:"h2",text:"Worst case of QuickSort?",options:["O(n log n)","O(n)","O(n^2)","O(log n)"],correct:2},{id:"h3",text:"What is a closure?",options:["Function with retained scope","Class destructor","Loop termination","Database lock"],correct:0}]},[d,C]=s.useState(p.medium[0]);s.useEffect(()=>{m>=2&&t!=="hard"?(x("hard"),c(0),b.success("Level Up! Difficulty Increased ðŸŒ¶ï¸",{icon:"ðŸ”¥"})):u>=2&&t!=="easy"&&(x("easy"),l(0),b("Let's try something easier.",{icon:"ðŸ“‰"}))},[m,u,t]),s.useEffect(()=>{const n=p[t],r=n[a%n.length];C(r)},[t,a]);const S=n=>{const r=n===d.correct;f(r?"correct":"incorrect"),r?(v(o=>o+(t==="hard"?30:t==="medium"?20:10)),c(o=>o+1),l(0)):(c(0),l(o=>o+1)),setTimeout(()=>{f(null),a>=8?w(!0):j(o=>o+1)},1500)};return N?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 to-purple-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Session Complete!"}),e.jsxs("div",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-600 mb-6",children:[h," XP"]}),e.jsx("p",{className:"text-gray-600 mb-8",children:"You successfully adapted to the challenge."}),e.jsx("button",{onClick:()=>y("/student/dashboard"),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:opacity-90 transition-opacity",children:"Back to Dashboard"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4 font-sans",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-6 flex justify-between items-center border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide flex items-center gap-1 ${t==="easy"?"bg-green-100 text-green-700":t==="medium"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[e.jsx(z,{}),t]}),e.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Q",a+1]})]}),e.jsxs("div",{className:"text-xl font-black text-gray-800",children:[h," ",e.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"XP"})]})]}),e.jsx(W,{mode:"wait",children:e.jsxs(g.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 relative",children:[i&&e.jsx("div",{className:`absolute inset-0 z-10 flex items-center justify-center bg-opacity-90 backdrop-blur-sm transition-colors ${i==="correct"?"bg-green-50":"bg-red-50"}`,children:e.jsxs(g.div,{initial:{scale:.5},animate:{scale:1},className:`flex flex-col items-center ${i==="correct"?"text-green-600":"text-red-500"}`,children:[i==="correct"?e.jsx(A,{size:64}):e.jsx(I,{size:64}),e.jsx("span",{className:"text-2xl font-bold mt-2",children:i==="correct"?"Correct!":"Incorrect"})]})}),e.jsxs("div",{className:"p-8 md:p-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 leading-relaxed",children:d?.text}),e.jsx("div",{className:"grid gap-4",children:d?.options.map((n,r)=>e.jsxs("button",{onClick:()=>S(r),disabled:!!i,className:"group flex items-center p-4 rounded-xl border-2 border-gray-100 hover:border-blue-500 hover:bg-blue-50 transition-all text-left",children:[e.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 group-hover:bg-blue-200 rounded-lg text-sm font-bold text-gray-600 group-hover:text-blue-700 mr-4 transition-colors",children:String.fromCharCode(65+r)}),e.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-blue-900",children:n})]},r))})]})]},a+t)}),e.jsx("p",{className:"text-center text-gray-400 text-sm mt-6",children:"Correct answers increase difficulty & rewards â€¢ Incorrect answers lower difficulty"})]})})};export{T as default};
